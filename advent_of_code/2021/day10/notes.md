The solution for the first part is 167379.

With my stack-based solution for part 1, it was also relatively easy to solve part 2 by just reversing the stack operations.

The solution for the second part is 2776842859.
