While the structure of the snail numbers is based on nested pairs, it might be actually better to store the values in a flat container with some additional meta data (depth, etc.).

That would make it easier to traverse a number to find the next left or right number value for example.

To calculate the magnitude (or print the number) a stack can be used and then just interpret the numbers left to right.

The solution for the first part is 4207.

The solution for the second part is 4635.
